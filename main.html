<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>æ‡·èˆŠç«¥å¹´å¡é€šæ·˜æ±°è³½</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
  body {
    background: #111;
    color: #fff;
    text-align: center;
    font-family: sans-serif;
  }

  #match {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 40px;
  }

  .card {
    width: 260px;
    cursor: pointer;
    transition: all .4s ease;
  }

  .winner {
    transform: scale(1.15);
    box-shadow: 0 0 30px gold;
  }

  .loser {
    filter: grayscale(100%);
    opacity: .4;
    transform: scale(.9);
  }

  .disabled {
    pointer-events: none;
  }

  #result img {
    width: 320px;
    margin-top: 20px;
  }
</style>
</head>

<body>

<h1 id="roundTitle">é–‹å§‹é¸æ“‡</h1>

<div id="match">
  <img id="img1" class="card">
  <img id="img2" class="card">
</div>

<div id="result"></div>

<script>
/* ===== 46 å¼µåœ–ç‰‡ ===== */
let cartoons = [
  { id: 1, name: "é£›å¤©å°å¥³è­¦", img: "0hAf14NyaAHkkMTQ7s9dphHjUbEjg_KQtPYjUFJ3lPFH0iLUUbMCpSMyxJQHo9LQpKODdWLCpIFS4geQoZOSs.jpg" },
  { id: 2, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 3, name: "æ²™é­šå“¥å’Œç¾äººé­š", img: "12550-p_210712.jpg" },
  { id: 4, name: "å¤šæ‹‰Aå¤¢", img: "1521386115-1e6f703bb45d34a1ff4b93b3f18573c6.webp" },
  { id: 5, name: "è Ÿç­†å°æ–°", img: "161587446981.jpg" },
  { id: 6, name: "ç‘ªèèˆ‡ç†Š", img: "1690865972-0.jpg" },
  { id: 7, name: "æ±ªæ±ªéšŠç«‹å¤§åŠŸ", img: "1724929370-2.jpg" },
  { id: 8, name: "Ben10", img: "176424627860190_P7755969.png" },
  { id: 9, name: "æˆ‘å€‘é€™ä¸€å®¶", img: "20170703141328_24.jpeg" },
  { id: 10, name: "ååµæ¢æŸ¯å—", img: "202110051759145878.jpg" },
  { id: 11, name: "å¿è€…å“ˆç‰¹åˆ©", img: "202206211746449913_2016.jpg" },
  { id: 12, name: "è†½å°ç‹—è‹±é›„", img: "2176cc6a-d509-4fec-a676-d363a6d4a07d_m.jpg" },
  { id: 13, name: "ç¬‘ç¬‘ç¾Š", img: "2fad7bdc-è¢å¹•æ“·å–ç•«é¢-2023-10-12-050453-542x800.webp" },
  "  { id: 14, name "", im": "3F3F%3F.we   {  {: 15, 5, n: "å“ˆå›‰å°æ¢…å­", ", : "12359-p.jpg" },
  { id: 16, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 17, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 18, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 19, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 20, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 21, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 22, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 23, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 24, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 25, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 26, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 27, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 28, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 29, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 30, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 31, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 32, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 33, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 34, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 35, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 36, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 37, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 38, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 39, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 40, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 41, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 42, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 43, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 44, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 45, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  { id: 46, name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
 
];

/* ===== ç‹€æ…‹ ===== */
let pair = [];

/* ===== å·¥å…· ===== */
function randomPick() {
  return cartoons[Math.floor(Math.random() * cartoons.length)];
}

/* ===== é–‹å§‹ ===== */
function start() {
  nextPair();
}

/* ===== ç”¢ç”Ÿä¸‹ä¸€çµ„ ===== */
function nextPair() {
  if (cartoons.length === 1) {
    showWinner(cartoons[0]);
    return;
  }

  let a = randomPick();
  let b;
  do {
    b = randomPick();
  } while (a.id === b.id);

  pair = [a, b];
  render();
}

/* ===== é¡¯ç¤º ===== */
function render() {
  reset();
  img1.src = pair[0].img;
  img2.src = pair[1].img;

  if (cartoons.length === 16) roundTitle.innerText = "16 å¼·";
  else if (cartoons.length === 4) roundTitle.innerText = "4 å¼·";
  else roundTitle.innerText = `å‰©ä¸‹ ${cartoons.length} å¼µ`;
}

/* ===== ä½¿ç”¨è€…é¸æ“‡ ===== */
function choose(index) {
  const winner = pair[index];
  const loser = pair[1 - index];

  const cards = document.querySelectorAll(".card");
  cards.forEach(c => c.classList.add("disabled"));

  cards[index].classList.add("winner");
  cards[1 - index].classList.add("loser");

  setTimeout(() => {
    cartoons = cartoons.filter(c => c.id !== loser.id);
    nextPair();
  }, 700);
}

img1.onclick = () => choose(0);
img2.onclick = () => choose(1);

/* ===== é‡ç½® ===== */
function reset() {
  document.querySelectorAll(".card").forEach(c => {
    c.className = "card";
  });
}

/* ===== å† è» ===== */
function showWinner(winner) {
  match.style.display = "none";
  result.innerHTML = `
    <h1>ğŸ† ç¬¬ä¸€åèª•ç”Ÿï¼</h1>
    <img src="${winner.img}">
    <h2>${winner.name}</h2>
  `;

  confetti({
    particleCount: 250,
    spread: 120,
    origin: { y: 0.6 }
  });
}

start();
</script>

</body>
</html>
