<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>æ‡·èˆŠç«¥å¹´å¡é€š</title>


<!-- ç¶²ç«™åœ–åƒï¼ˆFaviconï¼‰è¨­å®š -->
<link rel="icon" href="5453.png" type="image/png" >


<style>
* { box-sizing: border-box; }
body {
margin: 0;
font-family: "Noto Sans TC", sans-serif;
background: linear-gradient(135deg, #ffecd2, #fcb69f);
display: flex;
flex-direction: column;
align-items: center;
min-height: 100vh;
}
h1 {
margin: 20px 0;
font-size: 36px;
color: #ff6b6b;
text-shadow: 2px 2px #fff;
}
#roundInfo {
font-size: 20px;
margin-bottom: 10px;
color: #333;
}
#arena {
display: flex;
width: 100%;
max-width: 1000px;
height: 60vh;
}
.card {
flex: 1;
margin: 10px;
background: #fff;
border-radius: 20px;
 box-shadow: 0 10px 30px rgba(0,0,0,0.15);
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
cursor: pointer;
transition: all 0.4s ease;
position: relative;
overflow: hidden;
}
.card img {
max-width: 90%;
max-height: 75%;
border-radius: 12px;
}
.name {
margin-top: 10px;
font-size: 20px;
font-weight: bold;
color: #444;
}
.card.selected {
transform: scale(1.08);
z-index: 2;
box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}
.card.dimmed {
filter: brightness(0.4);
transform: scale(0.95);
}
#winnerScreen {
display: none;
flex-direction: column;
align-items: center;
justify-content: center;
 text-align: center;
animation: pop 0.6s ease;
}
#winnerScreen img {
max-width: 300px;
border-radius: 20px;
box-shadow: 0 15px 40px rgba(0,0,0,0.4);
}
#winnerScreen h2 {
font-size: 40px;
color: #ff4757;
margin: 20px 0 10px;
}
#confetti {
position: fixed;
inset: 0;
pointer-events: none;
background-image: radial-gradient(circle, rgba(255,255,255,0.8) 2px, transparent 2px);
background-size: 20px 20px;
animation: confetti 1s linear infinite;
}
@keyframes confetti {
from { background-position: 0 0; }
to { background-position: 0 200px; }
}
@keyframes pop {
from { transform: scale(0.8); opacity: 0; }
to { transform: scale(1); opacity: 1; }
}
</style>
</head>
<body>
<h1>ç«¥å¹´å¡é€šäºŒé¸ä¸€</h1>
<div id="roundInfo"></div>
 
<div id="arena">
<div class="card" id="left"></div>
<div class="card" id="right"></div>
</div>


<div id="winnerScreen">
<div id="confetti"></div>
<h2>ğŸ‰ ç¬¬ä¸€å ğŸ‰</h2>
<img id="winnerImg" />
<div class="name" id="winnerName"></div>
</div>

<script>
/* ===== 48 å¼µåœ–ç‰‡ ===== */
 const allCharacters = [
  {  name: "é£›å¤©å°å¥³è­¦", img: "0hAf14NyaAHkkMTQ7s9dphHjUbEjg_KQtPYjUFJ3lPFH0iLUUbMCpSMyxJQHo9LQpKODdWLCpIFS4geQoZOSs.jpg" },
  {  name: "å“ˆå›‰å°æ¢…å­", img: "12359-p.jpg" },
  {  name: "æ²™é­šå“¥å’Œç¾äººé­š", img: "12550-p_210712.jpg" },
  {  name: "å¤šæ‹‰Aå¤¢", img: "1521386115-1e6f703bb45d34a1ff4b93b3f18573c6.webp" },
  {  name: "è Ÿç­†å°æ–°", img: "161587446981.jpg" },
  {  name: "ç‘ªèèˆ‡ç†Š", img: "1690865972-0.jpg" },
  {  name: "æ±ªæ±ªéšŠç«‹å¤§åŠŸ", img: "1724929370-2.jpg" },
  {  name: "Ben10", img: "176424627860190_P7755969.png" },
  {  name: "æˆ‘å€‘é€™ä¸€å®¶", img: "20170703141328_24.jpeg" },
  {  name: "ååµæ¢æŸ¯å—", img: "202110051759145878.jpg" },
  {  name: "å¿è€…å“ˆç‰¹åˆ©", img: "202206211746449913_2016.jpg" },
  {  name: "è†½å°ç‹—è‹±é›„", img: "2176cc6a-d509-4fec-a676-d363a6d4a07d_m.jpg" },
  {  name: "ç¬‘ç¬‘ç¾Š", img: "2fad7bdc-è¢å¹•æ“·å–ç•«é¢-2023-10-12-050453-542x800.webp" },
  {  name: "æ«»æ¡ƒå°ä¸¸å­", img: "20180828192108-0b95561539d913096e1db76fd8e7628b-w800.jpg" },
  {  name: "ç‰¹å‹™æ­å¯¶", img: "3e927b32e809eac81e4dafbe631fmco5.jpg" },
  {  name: "ç±³ç¾…çš„è«éå®šå¾‹", img: "5d2092d8-4ac3-4f03-b331-95a0f47b0338.jpeg" },
  {  name: "æ€ªç›œå–¬å…‹", img: "600x600.jpg" },
  {  name: "é­šæ¨‚åœ’", img: "640 (1).jpeg" },
  {  name: "æ„›åƒé¬¼å·§é”", img: "640 (1).png" },
  {  name: "çƒé¾æ´¾å‡ºæ‰€", img: "640 (2).jpeg" },
  {  name: "æ¯”åˆ©å’Œæ›¼è’‚çš„ææ‡¼å¤§å†’éšª", img: "640 (2).png" },
  {  name: "å¯æ„›å·§è™å³¶", img: "640 (3).png" },
  {  name: "çç ç¾äººé­š", img: "640.jpeg" },
  {  name: "æ¢éšªæ´»å¯¶", img: "640.png" },
  {  name: "ç«¥è©±ç‹åœ‹", img: "79eb8fe4-60b9-4e18-ad0d-d478a7034732_m.jpg" },
  {  name: "ä¸­åœ‹å¨ƒå¨ƒ", img: "7b1f03b8-9b3f-4772-be1b-8f3c108c3a86.jpg" },
  {  name: "æ›¿èº«ä¼åŠƒ", img: "8a277a88-è¢å¹•æ“·å–ç•«é¢-2023-10-12-051319.jpg" },
  {  name: "æ„›æ¢éšªçš„æœµæ‹‰", img: "9bd8fed8-52db-4774-955b-51cf9d07189a.jpg" },
  {  name: "æ¹¯å§†è²“èˆ‡æ·åˆ©é¼ ",img: "Tom-and-jerry.jpg"},
  {  name: "å°å…¬ä¸»è˜‡è²äº", img: "compose (1).webp" },
  {  name: "è¬èƒ½é˜¿æ›¼", img: "compose.webp" },
  {  name: "ä¸‹èª²å¾Œ", img: "fdf2d028-6dfe-459a-ba2d-e962c30e59c6.jpeg" },
  {  name: "é˜¿ç”˜å¦™ä¸–ç•Œ", img: "hq720.jpg" },
  {  name: "è±†è±†å…ˆç”Ÿ", img: "images (1).jpg" },
  {  name: "ç±³å¥‡å¦™å¦™å±‹", img: "images (2).jpg" },
  {  name: "æ ¡åœ’ææ€ªç‹", img: "images (3).jpg" },
  {  name: "ç†Šå‡ºæ²’", img: "images (4).jpg" },
  {  name: "æµ·ç¶¿å¯¶å¯¶", img: "images (5).jpg" },
  {  name: "éº»è¾£å¥³å­©", img: "images.jpg" },
  {  name: "é ‘çš®è±¹èˆ‡æœ‹å‹å€‘", img: "images.png" },
  {  name: "å–œç¾Šç¾Šèˆ‡ç°å¤ªç‹¼", img: "maxresdefault.jpg" },
  {  name: "æ˜Ÿè¶å…¬ä¸»", img: "resize (1).jpg" },
  {  name: "å°é­”å¥³DoReMi", img: "resize.jpg" },
  {  name: "å°‘å¹´æ‚å°‡GOï¼", img: "s202005110107324.jpg" },
  {  name: "å¤©ç·šå¯¶å¯¶", img: "tetetubbies-1.jpg" },
  {  name: "è®Šèº«åœ‹ç‹", img: "the-other-disney-channel-cartoons-that-were-currently-on-at-v0-l2fszky1vrgd1.webp" },
  {  name: "å†’éšªç‹å¥‡å…‹", img: "unnamed.png" },
  {  name: "å¯¶å¯å¤¢", img: "ç¥å¥‡å¯¶è²è¶…ä¸–ä»£_æµ·å ±.jpg" },
 ];



let pool = shuffle([...allCharacters]); // ç•¶å‰å¯é¸æ± 
let survivors = [];      // å­˜æ´»è€…
let eliminated = new Set();

let stage = "48";        // 48 -> 16 -> 4 -> roundRobin -> winner
let roundRobinPairs = [];
let scores = new Map();

const left = document.getElementById("left");
const right = document.getElementById("right");
const roundInfo = document.getElementById("roundInfo");
const arena = document.getElementById("arena");
const winnerScreen = document.getElementById("winnerScreen");

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

/* ===== æ›´æ–°æ¨™é¡Œ ===== */
function updateRoundInfo() {
  if (stage === "48") roundInfo.textContent = `è‡ªç”±æ·˜æ±°ä¸­ï¼ˆå‰© ${pool.length} å¼µ â†’ 16 å¼·ï¼‰`;
  if (stage === "16") roundInfo.textContent = `16 å¼·æ·˜æ±°è³½`;
  if (stage === "4") roundInfo.textContent = `ç”¢ç”Ÿå››å¼·`;
  if (stage === "roundRobin") roundInfo.textContent = `å››å¼·è»Šè¼ªæˆ°`;
}

/* ===== ä¸»è¦æµç¨‹ ===== */
function drawPair() {
  updateRoundInfo();
  left.className = "card";
  right.className = "card";

  // ğŸ‰ æœ€çµ‚å† è»
  if (stage === "winner") return;

  // ğŸŸ¡ 48 â†’ 16ï¼ˆè‡ªç”±æ·˜æ±°ï¼‰
  if (stage === "48") {
    if (pool.length <= 16) {
      stage = "16";
      pool = shuffle(pool);
      drawPair();
      return;
    }
  }

  // ğŸŸ  16 â†’ 4
  if (stage === "16" && pool.length === 4) {
    stage = "roundRobin";
    setupRoundRobin();
    drawRoundRobin();
    return;
  }

  // æ­£å¸¸æŠ½å…©å¼µï¼ˆä¿è­‰ä¸åŒï¼‰
  const a = pool.shift();
  const b = pool.shift();

  renderCard(left, a);
  renderCard(right, b);
}

/* ===== å››å¼·è»Šè¼ªæˆ° ===== */
function setupRoundRobin() {
  scores.clear();
  pool.forEach(c => scores.set(c.name, 0));

  roundRobinPairs = [];
  for (let i = 0; i < pool.length; i++) {
    for (let j = i + 1; j < pool.length; j++) {
      roundRobinPairs.push([pool[i], pool[j]]);
    }
  }
}

function drawRoundRobin() {
  if (roundRobinPairs.length === 0) {
    const winner = [...scores.entries()].sort((a,b)=>b[1]-a[1])[0][0];
    const data = pool.find(c => c.name === winner);
    showWinner(data);
    return;
  }

  const [a, b] = roundRobinPairs.shift();
  renderCard(left, a);
  renderCard(right, b);
}

/* ===== å¡ç‰‡æ¸²æŸ“ ===== */
function renderCard(el, data) {
  el.innerHTML = `
    <img src="${data.img}">
    <div class="name">${data.name}</div>
  `;
  el.onclick = () => select(el, data);
}

/* ===== é¸æ“‡è™•ç† ===== */
function select(el, data) {
  left.classList.add(el === left ? "selected" : "dimmed");
  right.classList.add(el === right ? "selected" : "dimmed");

  setTimeout(() => {
    if (stage === "roundRobin") {
      scores.set(data.name, scores.get(data.name) + 1);
      drawRoundRobin();
    } else {
      pool.push(data);
      drawPair();
    }
  }, 600);
}

/* ===== å† è»ç•«é¢ ===== */
function showWinner(data) {
  stage = "winner";
  arena.style.display = "none";
  roundInfo.style.display = "none";
  winnerScreen.style.display = "flex";
  document.getElementById("winnerImg").src = data.img;
  document.getElementById("winnerName").textContent = data.name;
}

drawPair();
</script>
